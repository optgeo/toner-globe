/// Boundary layers (administrative, political boundaries)
module toner.layers.Boundaries

import "../config/Colors.pkl"
import "Base.pkl"

/// Country boundaries
boundary_country: LineLayer = new LineLayer {
  id = "boundary_country"
  source = "openmaptiles"
  `source-layer` = "boundary"
  minzoom = 3
  filter = new { "all"; new { "=="; "admin_level"; 2 }; new { "=="; "$type"; "LineString" } }
  layout = new {
    ["line-cap"] = "round"
    ["line-join"] = "round"
    ["visibility"] = "visible"
  }
  paint = new {
    ["line-color"] = new List {
      ["interpolate"] = new List {
        "linear"
        new List { 3; Colors.boundary.country_light }
        new List { 8; Colors.boundary.country_medium }
        new List { 14; Colors.boundary.country_dark }
      }
    }
    ["line-width"] = new List {
      ["interpolate"] = new List {
        "linear"
        new List { 3; 0.5 }
        new List { 8; 1.5 }
        new List { 14; 3 }
      }
    }
    ["line-dasharray"] = new List { 3; 2; 1; 2 }
  }
}

/// State/Prefecture boundaries
boundary_state: LineLayer = new LineLayer {
  id = "boundary_state"
  source = "openmaptiles"
  `source-layer` = "boundary"
  minzoom = 5
  filter = new { "all"; new { "=="; "admin_level"; 4 }; new { "=="; "$type"; "LineString" } }
  layout = new {
    ["line-cap"] = "round"
    ["line-join"] = "round"
    ["visibility"] = "visible"
  }
  paint = new {
    ["line-color"] = new { "interpolate"; new { "linear" }; new { "zoom" }; 5; Colors.boundary.state_light; 10; Colors.boundary.state_medium; 14; Colors.boundary.state_dark }
    ["line-width"] = new { "interpolate"; new { "linear" }; new { "zoom" }; 5; 0.3; 10; 0.8; 14; 1.5 }
    ["line-dasharray"] = new { 2; 1 }
  }
}

/// City boundaries
boundary_city: LineLayer = new LineLayer {
  id = "boundary_city"
  source = "openmaptiles"
  `source-layer` = "boundary"
  minzoom = 8
  filter = new { "all"; new { "=="; "admin_level"; 8 }; new { "=="; "$type"; "LineString" } }
  layout = new {
    ["line-cap"] = "round"
    ["line-join"] = "round"
    ["visibility"] = "visible"
  }
  paint = new {
    ["line-color"] = Colors.boundary.city
    ["line-width"] = new { "interpolate"; new { "linear" }; new { "zoom" }; 8; 0.3; 12; 0.8; 16; 1.2 }
    ["line-opacity"] = new { "interpolate"; new { "linear" }; new { "zoom" }; 8; 0.3; 12; 0.6; 16; 0.8 }
    ["line-dasharray"] = new { 1; 1 }
  }
}
